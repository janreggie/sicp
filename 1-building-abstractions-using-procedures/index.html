<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://janreggie.github.io/sicp/1-building-abstractions-using-procedures/">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>1 - SICP Exercises</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/color-brewer.min.css">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/scheme.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">SICP Exercises</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">SICP Exercises</a>
                            </li>
                            <li class="navitem active">
                                <a href="./" class="nav-link">1</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href=".." class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" class="nav-link disabled">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/janreggie/sicp/edit/master/docs/1-building-abstractions-using-procedures.markdown" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#building-abstractions-using-procedures" class="nav-link">Building Abstractions Using Procedures</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#11-the-elements-of-programming" class="nav-link">1.1 The Elements of Programming</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#exercise-11" class="nav-link">Exercise 1.1</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#exercise-12" class="nav-link">Exercise 1.2</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#exercise-13" class="nav-link">Exercise 1.3</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#exercise-14" class="nav-link">Exercise 1.4</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#exercise-15" class="nav-link">Exercise 1.5</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#exercise-16" class="nav-link">Exercise 1.6</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#exercise-17" class="nav-link">Exercise 1.7</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#exercise-18" class="nav-link">Exercise 1.8</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#12-procedures-and-the-processes-they-generate" class="nav-link">1.2 Procedures and the Processes they Generate</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#exercise-19" class="nav-link">Exercise 1.9</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#exercise-110" class="nav-link">Exercise 1.10</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#exercise-111" class="nav-link">Exercise 1.11</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#exercise-112" class="nav-link">Exercise 1.12</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#exercise-113" class="nav-link">Exercise 1.13</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#exercise-114" class="nav-link">Exercise 1.14</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#exercise-115" class="nav-link">Exercise 1.15</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#exercise-116" class="nav-link">Exercise 1.16</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#exercise-117" class="nav-link">Exercise 1.17</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#exercise-118" class="nav-link">Exercise 1.18</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="building-abstractions-using-procedures">Building Abstractions Using Procedures<a class="headerlink" href="#building-abstractions-using-procedures" title="Permanent link">&para;</a></h1>
<h2 id="11-the-elements-of-programming">1.1 The Elements of Programming<a class="headerlink" href="#11-the-elements-of-programming" title="Permanent link">&para;</a></h2>
<h3 id="exercise-11">Exercise 1.1<a class="headerlink" href="#exercise-11" title="Permanent link">&para;</a></h3>
<pre><code class="scheme">10
; 10
(+ 5 3 4)
; 12
(- 9 1)
; 8
(/ 6 2)
; 3
(+ (* 2 4) (- 4 6))
; 6
(define a 3)
; a = 3
(define b (+ a 1))
; b = 4
(+ a b (* a b))
; 19
(= a b)
; #f
(if (and (&gt; b a) (&lt; b (* a b)))
  b
  a)
; 4
(cond ((= a 4) 6)
  ((= b 4) (+ 6 7 a))
  (else 25))
; (+ 6 7 a) =&gt; 16
(+ 2 (if (&gt; b a) b a))
; 6
(* (cond ((&gt; a b) a)
    ((&lt; a b) b)
    (else -1))
  (+ a 1))
; 16
</code></pre>

<h3 id="exercise-12">Exercise 1.2<a class="headerlink" href="#exercise-12" title="Permanent link">&para;</a></h3>
<pre><code class="scheme">(/ (+ 5 4 (- 2 (- 3 (+ 6 (/ 4 5)))))
  (* 3 (- 6 2) (- 2 7)))
</code></pre>

<h3 id="exercise-13">Exercise 1.3<a class="headerlink" href="#exercise-13" title="Permanent link">&para;</a></h3>
<pre><code class="scheme">; sum-of-squares takes in two numbers and returns the sum of their squares
(define (sum-of-squares a b) (+ (* a a) (* b b)))
; exercise-1-3 takes in three numbers
; and returns the sum of squares of the two larger numbers
(define (exercise-1-3 a b c) (
  cond ((and (&lt; b a) (&lt; b c)) (sum-of-squares a c))
    ((and (&lt; a b) (&lt; a c)) (sum-of-squares b c))
    (else (sum-of-squares a b))
) )
</code></pre>

<h3 id="exercise-14">Exercise 1.4<a class="headerlink" href="#exercise-14" title="Permanent link">&para;</a></h3>
<pre><code class="scheme">(define (a-plus-abs-b a b)
  ((if (&gt; b 0) + -) a b))
; the operator changes depending on the value of the if statement!!
; if b&gt;0 return a+b otherwise return a-b (which turns b positive and adds it to a)
</code></pre>

<h3 id="exercise-15">Exercise 1.5<a class="headerlink" href="#exercise-15" title="Permanent link">&para;</a></h3>
<pre><code class="scheme">(define (p) (p))  ; a recursive function (don't execute this!!)
(define (test x y) (if (= x 0) 0 y))

(test 0 (p))  ; don't run this on applicative-order systems
</code></pre>

<p>On normal-order evaluation, the expression <code>(test 0 (p))</code> first expands to <code>(if (= 0 0) 0 (p))</code>, which will be evaluated to <code>0</code>. On applicative-order evaluation, the expression <code>(test 0 (p))</code> will have <code>(p)</code> expanded to... <code>(p)</code>, and then expanded to <code>(p)</code> recursively, leading to no real work being done.</p>
<h3 id="exercise-16">Exercise 1.6<a class="headerlink" href="#exercise-16" title="Permanent link">&para;</a></h3>
<p>Substituting this <code>new-if</code> function in the procedure causes a <code>maximum recursion depth exceeded</code> error, even for an input of <code>1</code>. Why?</p>
<pre><code class="scheme">(sqrt 1)
; ==&gt; (sqrt-iter 1.0 1)
; ==&gt; (new-if (good-enough? 1.0 1) 1.0 (sqrt-iter (improve guess x) x))
</code></pre>

<p>Here lies the kicker. Before <code>new-if</code> gets substituted, it first has to evaluate the arguments <code>(good-enough? 1.0 1)</code>, which easily evaluates to <code>#t</code>, and <code>(sqrt-iter (improve guess x) x)</code>, which does a recursive loop. The stack continues to grow until maximum recursion depth is reached.</p>
<h3 id="exercise-17">Exercise 1.7<a class="headerlink" href="#exercise-17" title="Permanent link">&para;</a></h3>
<pre><code class="scheme">; eval-sqrt evaluates the sqrt function for a number
(define (eval-sqrt x) (- (square (sqrt x)) x))
(eval-sqrt 4.64e-35)      ; ==&gt; .0009765625, or 9.765625e-4
(eval-sqrt 104828495672)  ; ==&gt; -.0000152587890625
</code></pre>

<p>Notice two things here.
The first one is that the evaluation of the square root of the very small number has a ridiculously large error, where it is off by several orders of magnitude. (The real value of the square root is 6.8117e-18.) This is expected since <code>good-enough</code> checks if the difference between the values is less than some constant threshold: good for most cases, but bad for numbers that are smaller than said threshold.</p>
<p>The second one is that there is always some amount of error when dealing with floating point numbers, as shown in the second example. Some precision will always be lost when dealing with floats.</p>
<p>Redefining <code>good-enough</code> to check relative to <code>guess</code>:</p>
<pre><code class="scheme">; good-enough checks if the difference between the current and next guess
; is less than 0.0001% of the current value of guess
(define (good-enough guess x)
  (&lt; (abs (- guess (improve guess x))) (/ guess 100000)))
(eval-sqrt 4.64e-35)      ; ==&gt; 2.800177998007718e-41
(eval-sqrt 104828495672)  ; ==&gt; 991925.5386352539
</code></pre>

<p>While the value for error might seem much larger for large numbers, running <code>(sqrt 104828495672)</code> yields 323773.8216680568, not too far off from the real value of 323772.289846. In addition, running <code>(sqrt 4.64e-35)</code> yields 6.811756601771674e-18, really close to the actual value.</p>
<h3 id="exercise-18">Exercise 1.8<a class="headerlink" href="#exercise-18" title="Permanent link">&para;</a></h3>
<pre><code class="scheme">; cbrt solves the cube root using Newton's method
(define (cbrt x)
  (define (cbrt-iter guess x)
    (if (cbrt-goodenough guess x) guess (cbrt-iter (cbrt-improve guess x) x)))
  (define (cbrt-improve guess x)
    (/ (+ (/ x (* guess guess)) (* 2 guess)) 3))
  (define (cbrt-goodenough guess x)
    (&lt; (abs (- guess (cbrt-improve guess x)))
      (/ guess 100000)))
(cbrt-iter 1.0 x))
(cbrt 27)  ; ==&gt; 3.0000005410641766
</code></pre>

<h2 id="12-procedures-and-the-processes-they-generate">1.2 Procedures and the Processes they Generate<a class="headerlink" href="#12-procedures-and-the-processes-they-generate" title="Permanent link">&para;</a></h2>
<h3 id="exercise-19">Exercise 1.9<a class="headerlink" href="#exercise-19" title="Permanent link">&para;</a></h3>
<p>Supposing <code>inc</code> and <code>dec</code> are increment and decrement operators respectively, there is a difference how these two functions work:</p>
<pre><code class="scheme">; First process
(define (+ a b)
  (if (= a 0) b (inc (+ (dec a) b))))
(+ 4 5)
; (inc (+ (dec 4) 5))
; (inc (+ 3 5))
; (inc (inc (+ (dec 3) 5)))
; (inc (inc (+ 2 5)))
; (inc (inc (inc (+ (dec 2) 5))))
; (inc (inc (inc (+ 1 5))))
; (inc (inc (inc (inc (+ (dec 1) 5)))))
; (inc (inc (inc (inc (+ 0 5)))))
; (inc (inc (inc (inc 5))))
; (inc (inc (inc 6)))
; (inc (inc 7))
; (inc 8)
; (9)
</code></pre>

<pre><code class="scheme">; Second process
(define (+ a b)
  (if (= a 0) b (+ (dec a) (inc b))))
(+ 4 5)
; (+ (dec 4) (inc 5))
; (+ 3 6)
; (+ (dec 3) (inc 6))
; (+ 2 7)
; (+ (dec 2) (inc 7))
; (+ 1 8)
; (+ (dec 1) (inc 8))
; (+ 0 9)
; (9)
</code></pre>

<p>The first process can be characterized as recursive since a chain of operations can be seen growing after every call, while the second can be characterized as iterative as the chain of operations does not grow or shrink, and the state is maintained by the parameters it contains.</p>
<h3 id="exercise-110">Exercise 1.10<a class="headerlink" href="#exercise-110" title="Permanent link">&para;</a></h3>
<p>Consider Ackermann's function:</p>
<pre><code class="scheme">(define (A x y)
  (cond ((= y 0) 0)
    ((= x 0) (* 2 y))
    ((= y 1) 2)
    (else (A (- x 1) (A x (- y 1))))))
</code></pre>

<p>From here, we see that <code>f</code> such that <code>(define (f n) (A 0 n))</code> would just be <span class="arithmatex">\(f\left(n\right)=2n\)</span>.</p>
<pre><code class="scheme">(A 1 10)
; (A (- 1 1) (A 1 (- 10 1)))
; (A 0 (A 1 9))
; (A 0 (A (- 1 1) (A 1 (- 9 1))))
; (A 0 (A 0 (A 1 8)))
; (A 0 (A 0 (A (- 1 1) (A 1 (- 8 1)))))
; (A 0 (A 0 (A 0 (A 1 7))))
; (A 0 (A 0 (A 0 (A (- 1 1) (A 1 (- 7 1))))))
; (A 0 (A 0 (A 0 (A 0 (A 1 6)))))
; (A 0 (A 0 (A 0 (A 0 (A (- 1 1) (A 1 (- 6 1)))))))
; (A 0 (A 0 (A 0 (A 0 (A 0 (A 1 5))))))
; (A 0 (A 0 (A 0 (A 0 (A 0 (A (- 1 1) (A 1 (- 5 1))))))))
; (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 1 4)))))))
; (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A (- 1 1) (A 1 (- 4 1)))))))))
; (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 1 3))))))))
; (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A (- 1 1) (A 1 (- 3 1))))))))))
; (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 1 2)))))))))
; (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A (- 1 1) (A 1 (- 2 1)))))))))))
; (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 1 1))))))))))
; (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 2)))))))))
; (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (* 2 2)))))))))
; (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 4))))))))
; (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (* 2 4))))))))
; (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 8)))))))
; (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (* 2 8)))))))
; (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 16))))))
; (A 0 (A 0 (A 0 (A 0 (A 0 (* 2 16))))))
; (A 0 (A 0 (A 0 (A 0 (A 0 32)))))
; (A 0 (A 0 (A 0 (A 0 (* 2 32)))))
; (A 0 (A 0 (A 0 (A 0 64))))
; (A 0 (A 0 (A 0 (* 2 64))))
; (A 0 (A 0 (A 0 128)))
; (A 0 (A 0 (* 2 128)))
; (A 0 (A 0 256))
; (A 0 (* 2 256))
; (A 0 512)
; (* 2 0 512)
; (1024)
</code></pre>

<p>Hypothesize that <code>g</code> such that <code>(define (g n) (A 1 n))</code> equals <span class="arithmatex">\(g\left(n\right)=2^n\)</span>. This can be proved using induction: suppose <span class="arithmatex">\(A\left(1,n\right)=2^n\)</span>, and prove that <span class="arithmatex">\(A\left(1,n+1\right)=2^{n+1}\)</span>.</p>
<div class="arithmatex">\[
\begin{aligned}
A\left(1,n+1\right) &amp;= A\left(1-1, A\left(1, \left(n+1\right)-1\right)\right) \\
                    &amp;= A\left(0, A\left(1, n\right)\right) \\
                    &amp;= 2\cdot A\left(1,n\right) \\
                    &amp;= 2\cdot2^n \\
                    &amp;= 2^{n+1}
\end{aligned}
\]</div>
<pre><code class="scheme">(A 2 4)
; (A (- 2 1) (A 2 (- 4 1)))
; (A 1 (A 2 3))
; (A 1 (A (- 2 1) (A 2 (- 3 1))))
; (A 1 (A 1 (A 2 2)))
; (A 1 (A 1 (A (- 2 1) (A 2 (- 2 1)))))
; (A 1 (A 1 (A 1 (A 2 1))))
; (A 1 (A 1 (A 1 2)))
</code></pre>

<p>From our previous definition of <code>g</code>, we can say that the expression <code>(A 1 (A 1 (A 1 2)))</code> solves to <span class="arithmatex">\(2^{2^{2^2}}\)</span>, although writing down the steps to getting there will be <del>hell</del> an exercise left to the reader.</p>
<p>Hypothesize that <code>h</code> such that <code>(define (h n) (A 2 n))</code> equals <span class="arithmatex">\(h\left(n\right)=2^{2^{\cdot^{\cdot^{\cdot^2}}}}\)</span>, such that the number of <span class="arithmatex">\(2\)</span> equals <span class="arithmatex">\(n\)</span>. This also can be proved using induction: suppose <span class="arithmatex">\(A\left(2,n\right)=2^{2^{\cdot^{\cdot^{\cdot^2}}}} \rbrace\text{n-many 2's}\)</span>, and prove that <span class="arithmatex">\(A\left(2,n+1\right)\)</span> results to <span class="arithmatex">\(n+1\)</span> twos:</p>
<div class="arithmatex">\[
\begin{aligned}
A\left(2,n+1\right) &amp;= A\left(2-1, A\left(2, \left(n+1\right)-1\right)\right) \\
                    &amp;= A\left(1,A\left(2,n\right)\right) \\
                    % why do i even bother...
                    &amp;= A\left(1, \left.2^{2^{\cdot^{\cdot^{\cdot^2}}}}\right\rbrace\text{$n$-many 2's}\right) \\
                    &amp;= 2^{\left.2^{2^{\cdot^{\cdot^{\cdot^2}}}}\right\rbrace\text{$n$-many 2's}} \\
                    &amp;= \left.2^{2^{\cdot^{\cdot^{\cdot^2}}}}\right\rbrace\text{$n+1$-many 2's}
\end{aligned}
\]</div>
<h3 id="exercise-111">Exercise 1.11<a class="headerlink" href="#exercise-111" title="Permanent link">&para;</a></h3>
<p>Writing the recursive implementation is trivial:</p>
<pre><code class="scheme">(define (f n)
  (if (&lt; n 3)
    n
    (+ (f (- n 1))
      (* 2 (f (- n 2)))
      (* 3 (f (- n 3))))))
(f 30)  ; ==&gt; 61354575194 (will take a long time to compute)
</code></pre>

<p>Writing an iterative implementation is a bit more difficult.
Consider that, ultimately, <code>f</code> is evaluated as a sum of three numbers,
and these three numbers can be used as a state.</p>
<pre><code class="scheme">(define (f n)
  ; iter is the iterative process wherein (a, b, c) &lt;- (a+2b+3c, a, b).
  ; if count == 0, return a
  (define (iter a b c count)
    (if (= count 0)
      a
      (iter (+ a (* 2 b) (* 3 c)) a b (- count 1))))

  (if (&lt; n 3)
    n
    (iter 2 1 0 (- n 2)))  ; 2 as an offset
)
(f 30)  ; ==&gt; 61354575194 (didn't take that long at all!)
</code></pre>

<h3 id="exercise-112">Exercise 1.12<a class="headerlink" href="#exercise-112" title="Permanent link">&para;</a></h3>
<pre><code class="scheme">; pascal returns the cnt'th number (start from zero)
; at the row'th row (0: 1, 1: 1,1, 2: 1,2,1).
(define (pascal row cnt)
  (cond ((or (&lt; cnt 0) (&gt; cnt row)) 0)
    ((or (= cnt 0) (= cnt row)) 1)
    (else (+
      (pascal (- row 1) (- cnt 1))
      (pascal (- row 1) cnt))
    )
  )
)
(pascal 4 2)
</code></pre>

<h3 id="exercise-113">Exercise 1.13<a class="headerlink" href="#exercise-113" title="Permanent link">&para;</a></h3>
<p>Initially, let us prove that <span class="arithmatex">\(F\left(n\right) = \frac{\phi^n - \psi^n}{\sqrt{5}}\)</span>, where <span class="arithmatex">\(F\left(n\right)\)</span> is the <span class="arithmatex">\(n\)</span>'th Fibonacci number and <span class="arithmatex">\(\phi=\frac{1+\sqrt{5}}{2}, \psi=\frac{1-\sqrt{5}}{2}\)</span>, via induction.</p>
<p>The base cases for <span class="arithmatex">\(F\left(0\right)\)</span> and <span class="arithmatex">\(F\left(1\right)\)</span> is shown to be 0 and 1. A proof is left as an exercise to the reader.</p>
<p>Suppose that <span class="arithmatex">\(F\)</span> follows up to <span class="arithmatex">\(n-1\)</span>. Let us then prove that <span class="arithmatex">\(F\left(n\right)\)</span> holds.</p>
<div class="arithmatex">\[
\begin{aligned}
F\left(n\right) &amp;= F\left(n-1\right) + F\left(n-2\right)  \\
                &amp;= \frac{\phi^\left(n-1\right) - \psi^\left(n-1\right)}{\sqrt{5}}
                    + \frac{\phi^\left(n-2\right) - \psi^\left(n-2\right)}{\sqrt{5}} \\
                &amp;= \frac{\left(\phi+1\right) \phi^\left(n-2\right) - \left(\psi+1\right) \psi^\left(n-2\right)}{\sqrt{5}} \\
                &amp;= \frac{\frac{3+\sqrt{5}}{2} \phi^\left(n-2\right) - \frac{3-\sqrt{5}}{2} \psi^\left(n-2\right)}{\sqrt{5}}
                  &amp;&amp; \text{Note that $\frac{3\pm\sqrt{5}}{2}=\left(\frac{1\pm\sqrt{5}}{2}\right)^2$} \\
                &amp;= \frac{\phi^2 \phi^\left(n-2\right) - \psi^2 \psi^\left(n-2\right)}{\sqrt{5}} \\
                &amp;= \frac{\phi^n - \psi^n}{\sqrt{5}}
\end{aligned}
\]</div>
<p>Note that <span class="arithmatex">\(\psi\approx-0.618\)</span> and <span class="arithmatex">\(\psi^n\)</span> approaches zero. Therefore, <span class="arithmatex">\(\frac{\phi^n}{\sqrt{5}}\)</span> is "close enough" to <span class="arithmatex">\(\frac{\phi^n - \psi^n}{\sqrt{5}}\)</span>.</p>
<h3 id="exercise-114">Exercise 1.14<a class="headerlink" href="#exercise-114" title="Permanent link">&para;</a></h3>
<p><img alt="Image of the tree" src="/img/1-14.svg" /></p>
<p>Paths leading to a red node are unwanted, whereas paths leading to a green node are desired. Note that multiple sections of the tree repeat itself, which is why a node can have more than two paths coming towards it.</p>
<p>An increment to <code>amount</code> increases the number of operations exponentially, and increases the number of nodes to compute linearly.</p>
<h3 id="exercise-115">Exercise 1.15<a class="headerlink" href="#exercise-115" title="Permanent link">&para;</a></h3>
<pre><code class="scheme">(define (cube x) (* x x x))
(define (p x) (- (* 3 x) (* 4 (cube x))))
(define (sine angle)
  (if (not (&gt; (abs angle) 0.1))
    angle
    (p (sine (/ angle 3.0)))))
(sine 12.15)
; (/ angle 3.0) and (p x) operations have been substituted
; (p (sine 4.05))
; (p (p (sine 1.35)))
; (p (p (p (sine 0.45))))
; (p (p (p (p (sine 0.15)))))
; (p (p (p (p (p (sine 0.05))))))
; (p (p (p (p (p 0.05)))))
; (p (p (p (p 0.1495))))
; (p (p (p 0.4351)))
; (p (p 0.9758))
; (p -0.7892)
; -0.4044
</code></pre>

<p>The <code>p</code> procedure has been applied five times. Considering that <code>p</code> can be solved in constant time and occupies constant space, the order of growth in space and the number of steps for <span class="arithmatex">\(p\left(a\right)\)</span> is <span class="arithmatex">\(\Theta\left(\lg n\right)\)</span>.</p>
<p>This can be shown by noticing that <span class="arithmatex">\(p\left(3a\right)\)</span> requires a constant number of operations more than <span class="arithmatex">\(p\left(a\right)\)</span>, for instance, the amount of space and operations for <code>(sine 1.35)</code> versus that of <code>(sine 4.05)</code>.</p>
<h3 id="exercise-116">Exercise 1.16<a class="headerlink" href="#exercise-116" title="Permanent link">&para;</a></h3>
<pre><code class="scheme">; expt is an exponential function that returns b raised to n.
; note that this shadows the built-in expt.
(define (expt b n)
  (define (even? n) (= (remainder n 2) 0))
  (define (halve n) (/ n 2))
  (define (square n) (* n n))
  ; exptiter iterates thru a, b, and n until b equals 1, and then the result is located in a.
  ; a must be initialized to 1.
  (define (exptiter a b n)
    (cond ((= n 0) a)
      ((even? n) (exptiter a (square b) (halve n)))
      (else (exptiter (* a b) b (- n 1)))))
  (exptiter 1 b n))
(expt 3 5) ; ==&gt; 243
</code></pre>

<h3 id="exercise-117">Exercise 1.17<a class="headerlink" href="#exercise-117" title="Permanent link">&para;</a></h3>
<pre><code class="scheme">(define (mul a b)
  (define (even? n) (= (remainder n 2) 0))
  (define (halve n) (/ n 2))
  (define (double n) (+ n n))
  (cond
    ((= b 0) 0)
    ((= b 1) a)
    ((even? b) (mul (double a) (halve b)))
    (else (+ a (mul a (- b 1))))))
(mul 9 6) ; ==&gt; 54
</code></pre>

<h3 id="exercise-118">Exercise 1.18<a class="headerlink" href="#exercise-118" title="Permanent link">&para;</a></h3>
<pre><code class="scheme">(define (mul a b)
  (define (even? n) (= (remainder n 2) 0))
  (define (halve n) (/ n 2))
  (define (double n) (+ n n))
  (define (multiter a b result)
    (cond ((= b 0) result)
      ((even? b) (multiter (double a) (halve b) result))
      (else (multiter a (- b 1) (+ result a)))))
  (multiter a b 0))
(mul 9 6) ; ==&gt; 54
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../js/mathjax.js" defer></script>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6" defer></script>
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
